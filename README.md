# program-analysis-project


## Building and Running

@TODO memory limit for all programs

### AFL
Build the AFL container with e.g.:

`docker build -f afl.Dockerfile . -t afl-pa`

Run it on a particular sample file with:

`docker run -e SUT_SRC=Prob16-R12-B3.c -v $(pwd)/out:/out afl-pa`

This will put the results in `$(pwd)/out` on your host machine. The timeout for the run can be specified by overriding the `TIME_LIMIT` environment variable.

### KLEE

`docker build -f klee.Dockerfile . -t klee-pa`

`docker run -e SUT_SRC=Prob16-R12-B3.c -v $(pwd)/out:/out klee-pa`

@TODO timeout for KLEE

### CBMC

`docker build -f cbmc.Dockerfile . -t cbmc-pa`

`docker run -e SUT_SRC=Prob16-R12-B3.c -v $(pwd)/out:/out cbmc-pa`

### TRACERX

`docker build -f tracerx.Dockerfile . -t tracerx-pa`

`docker run -e SUT_SRC=Prob16-R12-B3.c -v $(pwd)/out:/out tracerx-pa`

@TODO timeout for TRACERX

### LLVM COV
Probably not necessary to do in a Docker container, but this lets us just keep things simple for installation.

`docker build -f llvm-cov.Dockerfile -t llvm-cov-pa .`

To get coverage information, you must mount a volume to `/testcases` with the testcases you want to get the cumulative coverages of. It will output a JSON file with the coverage summary into `/out` which can be ported out with another volume. 

`docker run -v $(pwd)/sample-programs/AFL-VERSION:/testcases -v $(pwd)/out:/out -e SUT_SRC=Wtest27-B15.c llvm-cov-pa`

**Note: in this case I am using the source files as testcases; this makes no sense conceptually, in real life you would point this to testcases generated by e.g. AFL rather than the source files.**
